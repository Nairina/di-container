##Контейнер:
Клас Container реалізує простий механізм керування сервісами.
Він зберігає два масиви:

***$definitions — реєстр визначень сервісів.
    Ключ: рядок (ідентифікатор сервісу).
    Значення: або готовий об’єкт, або фабрика (callable).

***$instances — кеш створених екземплярів.
    Ключ: рядок (ідентифікатор сервісу).
    Значення: готовий об’єкт.

***register(string $id, object|callable $definition): void
    Реєструє сервіс у контейнері: можна передати готовий об’єкт; або фабрику (callable), яка зможе створити об’єкт.
    Метод нічого не повертає, він просто зберігає визначення у контейнері.

***has(string $id): bool
    Перевіряє, чи відомий контейнеру сервіс: повертає true, якщо він уже створений і є в $instances;
    або якщо є його визначення у $definitions.

***get(string $id): object
    Повертає сервіс за вказаним ідентифікатором:
    Спершу шукає у $instances. 
    Якщо об’єкт уже створений — віддає його одразу (щоб не створювати щоразу заново).
    Якщо у $instances немає, дивиться у $definitions:
    якщо визначення не знайдено — кидає NotFoundException;
    якщо визначення = готовий об’єкт — кешує його у $instances і повертає;
    якщо визначення = callable (фабрика) — викликає її, передає сам контейнер, отримує об’єкт, кешує й повертає.
    Якщо фабрика повернула не об’єкт або сталася помилка під час створення — кидає ContainerException.

***Таким чином, контейнер дозволяє:
   *зручно реєструвати сервіси,
   *уникати повторного створення об’єктів,
   *автоматично розв’язувати залежності між сервісами через фабрики.


## Як проходить один HTTP-запит (з DI-контейнером)
![Потік запиту](./di_request_flow.png)
1. **Браузер** → `http://localhost:8080`
2. **Docker/NAT** прокидає порт `8080` в контейнер nginx (`80`).
3. **Nginx** (`root: /public`) віддає статичні файли або передає запит у PHP через `fastcgi`.
4. **php-fpm** запускає PHP і виконує `public/index.php`.
5. Підтягується **Composer** (`vendor/autoload.php`).
6. Створюється **DI-контейнер**.
7. **Реєструються сервіси**: `pdo`, `logger`, `userService`, …
8. Код робить **`get('…')`**:
    - якщо сервіс ще не створено — контейнер **створює** його (і залежності), **кешує** (singleton);
    - якщо вже є — **віддає з кешу**.
9. Логіка формує **HTML/JSON** → відповідь повертається через **nginx** у браузер.
